CREATE TABLE IF NOT EXISTS movies (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    director_id INTEGER,
    release_year INTEGER,
    genre_id INTEGER,
    description TEXT,
    FOREIGN KEY (director_id) REFERENCES directors(id),
    FOREIGN KEY (genre_id) REFERENCES genres(id)
);

CREATE TABLE IF NOT EXISTS directors(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT,
    surname TEXT
);

CREATE TABLE IF NOT EXISTS genres(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT
);

INSERT OR IGNORE INTO directors (name, surname) VALUES
('Christopher', 'Nolan'),
('Quentin', 'Tarantino'),
('Martin', 'Scorsese'),
('Greta', 'Gerwig'),
('Sofia', 'Coppola'),
('Steven', 'Spielberg'),
('Denis', 'Villeneuve'),
('Wes', 'Anderson'),
('Bong', 'Joon-ho'),
('Pedro', 'Almodóvar');

INSERT INTO genres (name) VALUES
('Action'),
('Adventure'),
('Animation'),
('Biography'),
('Comedy'),
('Crime'),
('Documentary'),
('Drama'),
('Family'),
('Fantasy'),
('History'),
('Horror'),
('Musical'),
('Mystery'),
('Romance'),
('Sci-Fi'),
('Sport'),
('Thriller'),
('War'),
('Western');

INSERT INTO movies (title, director_id, release_year, genre_id, description) VALUES
('Inception', 1, 2010, 1, 'A skilled thief is given a chance at redemption if he can successfully perform inception.'),
('Pulp Fiction', 2, 1994, 6, 'The lives of two mob hitmen, a boxer, and others intertwine in a series of violent events.'),
('The Irishman', 3, 2019, 6, 'A mob hitman recalls his involvement in the disappearance of Jimmy Hoffa.'),
('Lady Bird', 4, 2017, 8, 'A coming-of-age story about a teenage girl navigating her senior year.'),
('Lost in Translation', 5, 2003, 8, 'Two lost souls form an unlikely bond in Tokyo.'),
('Schindler''s List', 6, 1993, 19, 'A businessman saves the lives of over a thousand Jews during the Holocaust.'),
('Dune', 7, 2021, 15, 'A noble family becomes embroiled in a war for control over the galaxy''s most valuable asset.'),
('The Grand Budapest Hotel', 8, 2014, 5, 'The adventures of a legendary concierge and his protégé.'),
('Parasite', 9, 2019, 8, 'A poor family infiltrates a wealthy household with unexpected consequences.'),
('Talk to Her', 10, 2002, 8, 'Two men bond while caring for women in comas.');

DROP TABLE movies;
DROP TABLE directors;
DROP TABLE genres;